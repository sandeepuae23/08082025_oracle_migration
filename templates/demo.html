<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enhanced Oracle to Elasticsearch Migration Tool - Demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {background: linear-gradient(135deg,#1a1d29 0%,#2d1b69 50%,#1a1d29 100%);color:#e9ecef;}
        .hero-section {background: linear-gradient(135deg,#667eea,#764ba2);padding:4rem 0;border-radius:0 0 50px 50px;margin-bottom:3rem;}
        .feature-card {background:rgba(255,255,255,.1);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2);border-radius:15px;padding:2rem;margin-bottom:2rem;}
        .batch-grid {display:grid;grid-template-columns:repeat(auto-fill,minmax(25px,1fr));gap:3px;margin:15px 0;max-width:500px;}
        .batch-cell{width:25px;height:25px;border-radius:4px;display:flex;align-items:center;justify-content:center;font-size:9px;color:#fff}
        .batch-cell.completed{background:#28a745}.batch-cell.running{background:#007bff;animation:pulse 1.5s infinite}.batch-cell.pending{background:#6c757d}
        @keyframes pulse{0%,100%{opacity:1}50%{opacity:.6}}
        .progress-enhanced{height:12px;border-radius:6px;overflow:hidden;background:rgba(255,255,255,.1);margin:10px 0}
        .progress-bar-enhanced{background:linear-gradient(135deg,#4facfe,#00f2fe);height:100%;transition:width .8s ease}
        .code-block{background:rgba(0,0,0,.4);border:1px solid rgba(255,255,255,.1);border-radius:8px;padding:1rem;font-family:'Courier New',monospace;font-size:.9rem;overflow-x:auto}
    </style>
</head>
<body>
    <section class="hero-section text-center text-white">
        <div class="container">
            <h1 class="fw-bold mb-3"><i class="fas fa-exchange-alt me-2"></i>Oracle â†’ Elasticsearch Migration</h1>
            <p class="lead mb-4">Enterprise-grade migration with batching, incremental sync and real-time monitoring.</p>
            <div class="d-flex flex-wrap justify-content-center gap-2 mb-4">
                <span class="badge bg-light text-dark"><i class="fab fa-python me-1"></i>Python/Flask</span>
                <span class="badge bg-light text-dark"><i class="fas fa-database me-1"></i>Oracle</span>
                <span class="badge bg-light text-dark"><i class="fas fa-search me-1"></i>Elasticsearch</span>
                <span class="badge bg-light text-dark"><i class="fas fa-cogs me-1"></i>Real-time</span>
            </div>
            <button class="btn btn-light" onclick="startDemo()"><i class="fas fa-play me-2"></i>Start Demo</button>
        </div>
    </section>

    <section class="container mb-5">
        <div class="row text-center">
            <div class="col-md-3 mb-3">
                <div class="feature-card"><i class="fas fa-rocket fa-2x mb-2"></i><h3>70%</h3><p>Faster Migration</p></div>
            </div>
            <div class="col-md-3 mb-3">
                <div class="feature-card"><i class="fas fa-shield-alt fa-2x mb-2"></i><h3>99.9%</h3><p>Data Integrity</p></div>
            </div>
            <div class="col-md-3 mb-3">
                <div class="feature-card"><i class="fas fa-sync-alt fa-2x mb-2"></i><h3>24/7</h3><p>Auto Sync</p></div>
            </div>
            <div class="col-md-3 mb-3">
                <div class="feature-card"><i class="fas fa-eye fa-2x mb-2"></i><h3>Real-time</h3><p>Monitoring</p></div>
            </div>
        </div>
    </section>

    <section class="container mb-5">
        <h2 class="text-center mb-4"><i class="fas fa-play-circle me-2"></i>Live Migration Simulation</h2>
        <div class="row">
            <div class="col-lg-8 mb-4">
                <div class="feature-card">
                    <div class="d-flex justify-content-between mb-3"><strong>Migration Job #1247</strong><span class="badge bg-primary">Running</span></div>
                    <div class="mb-3">
                        <div class="d-flex justify-content-between"><small>Records</small><small id="record-progress">0%</small></div>
                        <div class="progress-enhanced"><div id="record-progress-bar" class="progress-bar-enhanced" style="width:0%"></div></div>
                    </div>
                    <div class="mb-3">
                        <div class="d-flex justify-content-between"><small>Batches</small><small id="batch-progress">0%</small></div>
                        <div class="progress-enhanced"><div id="batch-progress-bar" class="progress-bar-enhanced" style="width:0%"></div></div>
                    </div>
                    <div class="batch-grid" id="demo-batch-grid"></div>
                    <div class="mt-3 d-flex justify-content-between"><div>Speed: <span id="processing-speed">0</span> rec/s</div><div>ETA: <span id="eta">--:--</span></div></div>
                </div>
            </div>
            <div class="col-lg-4 mb-4">
                <div class="feature-card">
                    <h6><i class="fas fa-list me-2"></i>Logs</h6>
                    <div id="demo-logs" style="height:300px;overflow-y:auto" class="code-block"></div>
                </div>
            </div>
        </div>
    </section>

    <section class="container mb-5">
        <h2 class="text-center mb-4"><i class="fas fa-project-diagram me-2"></i>Query & Mapping Analysis</h2>
        <div class="feature-card mb-4">
            <h5><i class="fas fa-search-plus me-2"></i>Complex Oracle Query</h5>
            <div class="row">
                <div class="col-lg-6">
                    <div class="code-block">
-- Customer Orders with Products and Categories
SELECT c.customer_id,
       c.first_name || ' ' || c.last_name AS full_name,
       o.order_id, o.order_date, o.total_amount,
       p.product_name, cat.category_name
FROM customers c
JOIN orders o ON c.customer_id = o.customer_id
JOIN order_items oi ON o.order_id = oi.order_id
JOIN products p ON oi.product_id = p.product_id
JOIN categories cat ON p.category_id = cat.category_id
WHERE o.order_date >= TRUNC(SYSDATE) - 30;
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="code-block">
{ "complexity_score": 75,
  "tables": ["customers","orders","order_items","products","categories"],
  "joins": 4,
  "has_case": true,
  "has_functions": true }
                    </div>
                </div>
            </div>
        </div>
        <div class="feature-card mb-4">
            <h5><i class="fas fa-columns me-2"></i>Field Mapping</h5>
            <div class="table-responsive">
                <table class="table table-dark table-striped mb-0">
                    <thead>
                        <tr><th>Oracle Field</th><th>Type</th><th>ES Field</th><th>ES Type</th></tr>
                    </thead>
                    <tbody>
                        <tr><td>customer_id</td><td>NUMBER(10)</td><td>customer.id</td><td>keyword</td></tr>
                        <tr><td>full_name</td><td>VARCHAR2(200)</td><td>customer.name.full</td><td>text</td></tr>
                        <tr><td>total_amount</td><td>NUMBER(10,2)</td><td>orders.total_amount</td><td>double</td></tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="feature-card mb-4">
            <h5><i class="fas fa-layer-group me-2"></i>Nested Mapping</h5>
            <div class="code-block">
{
  "mappings": {"properties": {
    "customer": {"type": "nested", "properties": {
      "id": {"type": "keyword"},
      "address": {"type": "object", "properties": {
        "street": {"type": "text"},
        "city": {"type": "keyword"}
      }}
    }}
  }}
}
            </div>
        </div>
        <div class="feature-card">
            <h5><i class="fas fa-sitemap me-2"></i>Parent-Child Mapping</h5>
            <div class="code-block">
{
  "mappings": {"properties": {
    "join_field": {"type": "join", "relations": {"customer": "order"}}
  }}
}
            </div>
        </div>
    </section>

    <section class="container mb-5">
        <h2 class="text-center mb-4"><i class="fas fa-file-code me-2"></i>Sample Documents</h2>
        <div class="row">
            <div class="col-lg-6">
                <div class="feature-card">
                    <h6>Oracle Result Set</h6>
                    <div class="code-block">
CUSTOMER_ID: 12345
FULL_NAME: "John Smith"
ORDER_ID: 67890
ORDER_DATE: 2023-12-01 10:30:45
TOTAL_AMOUNT: 1299.99
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="feature-card">
                    <h6>Elasticsearch Document</h6>
                    <div class="code-block">
{
  "customer": {"id": "12345", "name": {"full": "John Smith"}},
  "orders": [{"id": "67890", "order_date": "2023-12-01T10:30:45Z", "total_amount": 1299.99}]
}
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer class="text-center mb-5"><small class="text-muted">Demo only - no real data is processed.</small></footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        let demoRunning=false,recordsProcessed=0,totalRecords=1250000,batches=100,startTime;
        function startDemo(){if(demoRunning)return;demoRunning=true;startTime=Date.now();recordsProcessed=0;update();}
        function update(){if(!demoRunning)return;const inc=8000+Math.random()*4000;recordsProcessed=Math.min(recordsProcessed+inc,totalRecords);const recPct=Math.floor(recordsProcessed/totalRecords*100);const batchPct=Math.floor(recPct);document.getElementById('record-progress').innerText=recPct+'%';document.getElementById('batch-progress').innerText=batchPct+'%';document.getElementById('record-progress-bar').style.width=recPct+'%';document.getElementById('batch-progress-bar').style.width=batchPct+'%';document.getElementById('processing-speed').innerText=Math.floor(recordsProcessed/((Date.now()-startTime)/1000));document.getElementById('eta').innerText=formatTime((totalRecords-recordsProcessed)/Math.max(1,recordsProcessed/((Date.now()-startTime)/1000)));populateBatches(batchPct);addLog('Processed '+recordsProcessed.toFixed(0)+' records');if(recordsProcessed<totalRecords)setTimeout(update,100);} 
        function populateBatches(pct){const grid=document.getElementById('demo-batch-grid');if(grid.children.length===0){for(let i=0;i<50;i++){const c=document.createElement('div');c.className='batch-cell pending';grid.appendChild(c);}}const completed=Math.floor(50*pct/100);for(let i=0;i<50;i++){const c=grid.children[i];c.className=i<completed?'batch-cell completed':(i===completed?'batch-cell running':'batch-cell pending');}}
        function addLog(msg){const logs=document.getElementById('demo-logs');const div=document.createElement('div');div.textContent=msg;logs.appendChild(div);logs.scrollTop=logs.scrollHeight;while(logs.children.length>20)logs.removeChild(logs.firstChild);}
        function formatTime(s){s=Math.floor(s);if(s<60)return'00:'+(s+100).toString().substring(1);const m=Math.floor(s/60);return m.toString().padStart(2,'0')+':' + (s%60).toString().padStart(2,'0');}
    </script>
</body>
</html>
